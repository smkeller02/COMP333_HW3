{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/COMP333_HW3/frontend/src/viewrating.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ViewRating() {\n  _s();\n  const [id, setId] = useState(\"\");\n  const [rated, setRated] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    if (id) {\n      fetch(`http://localhost/COMP333_HW3/index.php/viewrating?id=${id}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        return response.json();\n      }).then(data => {\n        if (data.error) {\n          setRated([]);\n          setMessage(data.error);\n        } else {\n          setRated(data);\n          setMessage(\"\");\n        }\n      }).catch(error => {\n        setId(\"\");\n        console.error(\"Error fetching ratings:\", error);\n      });\n    }\n  }, [id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => e.preventDefault(),\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: id,\n        placeholder: \"Id\",\n        onChange: e => setId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"View Rating\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this), rated &&\n    /*#__PURE__*/\n    // Check if rated is not null\n    _jsxDEV(\"div\", {\n      className: \"ViewRating\",\n      children: rated.map(feature => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ratings-preview\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: feature.song\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"by \", feature.artist]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"rated by \", feature.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"rating: \", feature.rating]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this)]\n      }, feature.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message\",\n      children: message ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 22\n      }, this) : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 3\n  }, this);\n}\n_s(ViewRating, \"UeQVhhk3dNureTmVXMIEn4XgkqE=\");\n_c = ViewRating;\nexport default ViewRating;\nvar _c;\n$RefreshReg$(_c, \"ViewRating\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","ViewRating","_s","id","setId","rated","setRated","message","setMessage","fetch","method","headers","then","response","json","data","error","catch","console","children","onSubmit","e","preventDefault","type","value","placeholder","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","className","map","feature","song","artist","username","rating","_c","$RefreshReg$"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/COMP333_HW3/frontend/src/viewrating.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction ViewRating() {\n  const [id, setId] = useState(\"\");\n  const [rated, setRated] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  \n  useEffect(() => {\n    if (id) {\n    fetch(`http://localhost/COMP333_HW3/index.php/viewrating?id=${id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then((response) => {\n      return response.json()\n    })\n    .then((data) => {\n      if (data.error) {\n        setRated([]);\n        setMessage(data.error);\n      } else {\n        setRated(data);\n        setMessage(\"\");\n      }\n    })\n    .catch((error) => {\n      setId(\"\");\n      console.error(\"Error fetching ratings:\", error);\n    });\n    }\n  }, [id]);\n\nreturn (\n  <div>\n    <form onSubmit={(e) => e.preventDefault()}>\n        <input\n          type=\"number\"\n          value={id}\n          placeholder=\"Id\"\n          onChange={(e) => setId(e.target.value)}\n        />\n    </form>\n      \n    <button type=\"submit\">View Rating</button>\n    \n    {rated && ( // Check if rated is not null\n        <div className=\"ViewRating\">\n          {rated.map((feature) => \n            <div className=\"ratings-preview\" key={feature.id}>\n              <h2>{feature.song}</h2>\n              <p>by {feature.artist}</p>\n              <p>rated by {feature.username}</p>\n              <p>rating: {feature.rating}</p>\n            </div>\n            )\n          }\n      </div>\n    )}\n\n    <div className=\"message\">\n          {message ? <p>{message}</p> : \"\"}\n    </div>\n  </div>\n  )\n}\n  \nexport default ViewRating;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}